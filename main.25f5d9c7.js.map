{"version":3,"sources":["scripts/main.js"],"names":["tBody","document","querySelector","thead","checker","checkClick","addEventListener","e","children","forEach","elem","contains","target","classList","toggle","closest","remove","sortList","sortTable","cellIndex","append","form","createElement","formInputType","inputSelectOption","add","body","map","item","addInputToForm","after","label","select","innerText","opt","option","button","array","data","metodSort","sort","value1","value2","a","b","isNaN","includes","toLowerCase","localeCompare","replace","active","sortASC","value","inputName","inputType","input","name","type","dataset","qa","pushNotification","title","description","block","blockH2","blockP","setTimeout","validator","nodeElement","some","length","match","reset","lastChild","eventSubmit","preventDefault","newRow","formList","elements","i","slice","insertAdjacentHTML","toLocaleString","dblclickEvent","originData","saveData","focus","onblur","onkeydown","keyboardEvent","code"],"mappings":"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","file":"main.25f5d9c7.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tBody = document.querySelector('tbody');\nconst thead = document.querySelector('thead');\nconst checker = checkClick();\n\ntBody.addEventListener('click', (e) => {\n  [...tBody.children].forEach(elem => {\n    if (elem.contains(e.target)) {\n      elem.classList.toggle('active');\n    } else {\n      elem.closest('tr').classList.remove('active');\n    }\n  });\n});\n\nthead.addEventListener('click', (e) => {\n  const target = e.target;\n  const sortList = [...tBody.children];\n\n  sortTable(sortList, target.cellIndex, checker(target));\n\n  tBody.append(...sortList);\n});\n\nconst form = document.createElement('form');\nconst formInputType = [\n  ['Name', 'text'],\n  ['Position', 'text'],\n  ['Age', 'number'],\n  ['Salary', 'number'],\n];\n\nconst inputSelectOption = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n\nformInputType.map(item => form.append(addInputToForm(item[0], item[1])));\n\nform.querySelector(':nth-child(2)').after((() => {\n  const label = document.createElement('label');\n  const select = document.createElement('select');\n\n  label.innerText = 'Office:';\n\n  inputSelectOption.forEach(opt => {\n    const option = document.createElement('option');\n\n    option.innerText = opt;\n    select.append(option);\n  });\n\n  label.append(select);\n\n  return label;\n})());\n\nconst button = document.createElement('button');\n\nbutton.innerText = 'Save to table';\nbutton.type = 'submit';\n\nform.lastChild.after(button);\n\nform.addEventListener('submit', (eventSubmit) => {\n  eventSubmit.preventDefault();\n\n  const newRow = document.createElement('tr');\n  const formList = [...form.elements].map((item, i) =>\n    i > 2 ? +item.value : item.value).slice(0, -1);\n\n  validator(formList, form);\n\n  if (validator(formList, form)) {\n    newRow.insertAdjacentHTML('beforeend',\n      `<td>${formList[0]}</td>\n       <td>${formList[1]}</td>\n       <td>${formList[2]}</td>\n       <td>${formList[3]}</td>\n       <td>$${formList[4].toLocaleString('en-US')}</td>\n    `);\n    tBody.append(newRow);\n  }\n});\n\nfunction sortTable(array, data, metodSort) {\n  array.sort((value1, value2) => {\n    let [a, b] = [value1, value2];\n\n    if (!metodSort) {\n      [a, b] = [b, a];\n    }\n\n    return isNaN(a.children[data].innerText)\n    && !a.children[data].innerText.includes('$')\n      ? a.children[data].innerText.toLowerCase().localeCompare(\n        b.children[data].innerText.toLowerCase())\n      : a.children[data].innerText.replace(\n        /[^0-9]/g, '') - b.children[data].innerText.replace(/[^0-9]/g, '');\n  });\n};\n\nfunction checkClick() {\n  let active = '';\n  let sortASC = false;\n\n  return function(value) {\n    if (!active || active === value) {\n      sortASC = !sortASC;\n      active = value;\n    } else {\n      active = value;\n      sortASC = true;\n    }\n\n    return sortASC;\n  };\n}\n\nfunction addInputToForm(inputName, inputType) {\n  const label = document.createElement('label');\n  const input = document.createElement('input');\n\n  label.innerText = inputName + ':';\n  input.name = inputName;\n  input.type = inputType;\n  input.dataset.qa = inputName.toLowerCase();\n\n  label.append(input);\n\n  return label;\n}\n\nfunction pushNotification(title, description, type) {\n  const block = document.createElement('div');\n  const blockH2 = document.createElement('h2');\n  const blockP = document.createElement('p');\n\n  blockH2.append(title);\n  blockP.append(description);\n  block.append(blockH2, blockP);\n\n  document.body.append(block);\n  block.classList.add('notification');\n  block.classList.add(type);\n\n  setTimeout(() => block.remove(), 5000);\n};\n\nfunction validator(data, nodeElement) {\n  if (data.some(item => !item)) {\n    pushNotification('Missing data', 'Please, fill all fields!', 'error');\n\n    return false;\n  }\n\n  if (data[0].length < 4) {\n    pushNotification('Invalid name',\n      'Name is too shot, please enter the correct name!', 'error');\n\n    return;\n  }\n\n  if (data[3] < 18 || data[3] > 90) {\n    pushNotification('Invalid age', 'Enter the correct age!', 'error');\n\n    return;\n  }\n\n  if (!data[0].match(/^[a-zA-Z ]*$/g)) {\n    pushNotification('Invalid data', 'Only the English alphabet', 'error');\n\n    return;\n  }\n\n  nodeElement.reset();\n  pushNotification('Great', 'New employee successfully added!', 'success');\n\n  return true;\n};\n\ntBody.addEventListener('dblclick', (dblclickEvent) => {\n  const target = dblclickEvent.target;\n  const input = document.createElement('input');\n  const originData = target.innerText;\n\n  input.classList.add('cell-input');\n  input.type = 'text';\n  target.innerText = '';\n  target.append(input);\n  input.focus();\n\n  function saveData(value = originData, key) {\n    target.innerText = value;\n    input.remove();\n  }\n\n  function validData() {\n    if (!input.value) {\n      saveData();\n\n      return;\n    }\n\n    if ((target.cellIndex === 3 || target.cellIndex === 4)\n      && !input.value.match(/[0-9]/)) {\n      saveData();\n\n      return;\n    }\n\n    if (target.cellIndex === 4 && input.value.match(/[0-9]/)) {\n      saveData(`$` + (+input.value).toLocaleString('en-US'));\n\n      return;\n    }\n\n    if ((target.cellIndex === 3) && (input.value < 18 || input.value > 90)) {\n      saveData();\n\n      return;\n    }\n\n    if ((target.cellIndex === 0) && (input.value.length < 4)) {\n      saveData();\n\n      return;\n    }\n\n    if ((target.cellIndex === 0) && !input.value.match(/^[a-zA-Z ]*$/g)) {\n      saveData();\n\n      return;\n    }\n\n    if (target.cellIndex === 2 && !inputSelectOption.includes(input.value)) {\n      saveData();\n\n      return;\n    }\n\n    saveData(input.value);\n  }\n\n  input.onblur = () => {\n    validData();\n  };\n\n  input.onkeydown = (keyboardEvent) => {\n    const enter = keyboardEvent.code === 'Enter';\n\n    if (enter) {\n      saveData();\n    }\n  };\n});\n"]}